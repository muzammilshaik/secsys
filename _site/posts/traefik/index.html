<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Traefik" />
<meta property="og:locale" content="en" />
<meta name="description" content="Explore Linux and cybersecurity with homelab adventures, CTF challenges, and detailed walkthroughs. Join me in the pursuit of tech innovation and knowledge sharing. Letâ€™s connect and elevate together! ðŸš€" />
<meta property="og:description" content="Explore Linux and cybersecurity with homelab adventures, CTF challenges, and detailed walkthroughs. Join me in the pursuit of tech innovation and knowledge sharing. Letâ€™s connect and elevate together! ðŸš€" />
<link rel="canonical" href="http://localhost:4000/posts/traefik/" />
<meta property="og:url" content="http://localhost:4000/posts/traefik/" />
<meta property="og:site_name" content="Secsys" />
<meta property="og:image" content="http://localhost:4000/assets/linux/traefik/traefik.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-05-10T00:00:00+05:30" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/linux/traefik/traefik.webp" />
<meta property="twitter:title" content="Traefik" />
<meta name="twitter:site" content="@twitter_username" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-12-20T17:33:41+05:30","datePublished":"2023-05-10T00:00:00+05:30","description":"Explore Linux and cybersecurity with homelab adventures, CTF challenges, and detailed walkthroughs. Join me in the pursuit of tech innovation and knowledge sharing. Letâ€™s connect and elevate together! ðŸš€","headline":"Traefik","image":{"lqip":"data:image/webp;base64,UklGRiwCAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSLsAAAABgGPb2rHn/jarv1Jc/qltJ71tq7VtJxNgZVVJ72E4qcz3+Z9vChExARBD4mKiY+ISU9K9ctD63AAZSJkny0zIpk+2SwZ3L2/OVlsPDweIph+JBcKMlDYh84v3HgZ4gSZeBhDcG4UqXjKMe6Yd+RFvA6MRqMhd422FLgDK/Vbe4q4dQPsL72cMAOSnvBeFgHPej4t4lBBDdPM2DITzi/PmAL3C6YHPzI8v6vY1z9d8ozm+oaujOlyV0CgAAFZQOCBKAQAAEAgAnQEqFAAUAD6RPpdJJaMiISgNULASCWwAnTKEgrrcYQG2A5ED3Af8DfAPQA/YDrMPJmeIDHoDMU320K0izTEDLco5nHesUAD+rGfo/my5vN+fIV4Q10JWqUNj8WLkN3LoHLDNc336ya8QVg6/BULZeY4HENI6fgeT5uXaE+UmOtxGKFqdg+GQc1D9nyBjxZNUogo+Drn7cX6brtSJt/Ukd47TronO2c06RQDTixerVdNZt96zsi6dShjGbPjuZGrAOtZ/CQaCNv8yxexjuRh47oefY+B+dL24BayMcfutdN0lN4X/JyYqOFPnCSwHfB8wNYATTCYTvlY8QPJ6Xn5yse6DLIL6iPwwPF6nd7tFzQEOirW+e7ft935L2kdFbBtQn90OLfkyd3s8QRBbVhhyV4pe0qNJjz+Q11I/Kr8hT4o6k8YJAAAA","url":"http://localhost:4000/assets/linux/traefik/traefik.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/traefik/"},"url":"http://localhost:4000/posts/traefik/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Traefik | Secsys
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Secsys">
<meta name="application-name" content="Secsys">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    
      <link rel="preconnect" href="https://cdnjs.cloudflare.com" >
      <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/logo.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">Secsys</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">Linux, Defending Cyber Realms with homelabs.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/subscribe/" class="nav-link">
            <i class="fa-fw fa-regular fa-envelope-open"></i>
            

            <span>SUBSCRIBE</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['muzammil.shaik55gmail.com',''].join('@')"
          aria-label="email"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/shaikmuzammil55/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Traefik</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
      

      

      <!-- add image placeholder -->
      

    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Traefik</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1683657000"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  May 10, 2023
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1734696221"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Dec 20, 2024
</time>

        </span>
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/assets/linux/traefik/traefik.webp" class="popup img-link preview-img blur"><img data-src="/assets/linux/traefik/traefik.webp"  alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/webp;base64,UklGRiwCAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSLsAAAABgGPb2rHn/jarv1Jc/qltJ71tq7VtJxNgZVVJ72E4qcz3+Z9vChExARBD4mKiY+ISU9K9ctD63AAZSJkny0zIpk+2SwZ3L2/OVlsPDweIph+JBcKMlDYh84v3HgZ4gSZeBhDcG4UqXjKMe6Yd+RFvA6MRqMhd422FLgDK/Vbe4q4dQPsL72cMAOSnvBeFgHPej4t4lBBDdPM2DITzi/PmAL3C6YHPzI8v6vY1z9d8ozm+oaujOlyV0CgAAFZQOCBKAQAAEAgAnQEqFAAUAD6RPpdJJaMiISgNULASCWwAnTKEgrrcYQG2A5ED3Af8DfAPQA/YDrMPJmeIDHoDMU320K0izTEDLco5nHesUAD+rGfo/my5vN+fIV4Q10JWqUNj8WLkN3LoHLDNc336ya8QVg6/BULZeY4HENI6fgeT5uXaE+UmOtxGKFqdg+GQc1D9nyBjxZNUogo+Drn7cX6brtSJt/Ukd47TronO2c06RQDTixerVdNZt96zsi6dShjGbPjuZGrAOtZ/CQaCNv8yxexjuRh47oefY+B+dL24BayMcfutdN0lN4X/JyYqOFPnCSwHfB8wNYATTCYTvlY8QPJ6Xn5yse6DLIL6iPwwPF6nd7tFzQEOirW+e7ft935L2kdFbBtQn90OLfkyd3s8QRBbVhhyV4pe0qNJjz+Q11I/Kr8hT4o6k8YJAAAA"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                <a href="https://github.com/">Muzammil Shaik</a>
                
              
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1248 words"
>
  <em>6 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <h2 id="introduction"><span class="me-2">Introduction</span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>In this post, weâ€™ll walk through the steps to install and configure Traefik as a reverse proxy and load balancer for your Docker environment. Traefik is a powerful tool that dynamically discovers backend services and can automatically generate SSL certificates via ACME providers like Letâ€™s Encrypt.</p>

<p>This guide assumes you are familiar with docker and have it installed on your system if you didnt you can follow our detailed <a href="/posts/docker/" target="_blank">Docker</a> installation guide.</p>

<h2 id="step-1-download-and-extract-traefik"><span class="me-2">Step 1: Download and Extract Traefik</span><a href="#step-1-download-and-extract-traefik" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>First, download the appropriate version of Traefik you would like to use for your system from the official <a href="https://github.com/traefik/traefik/releases" target="_blank">Traefik GitHub releases page.</a></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>wget https://github.com/traefik/traefik/releases/download/vX.X.X/traefik_linux_amd64.tar.gz
<span class="nb">tar</span> <span class="nt">-xzvf</span> traefik_linux_amd64.tar.gz
</pre></td></tr></tbody></table></code></div></div>

<h2 id="step-2-move-traefik-to-a-system-path"><span class="me-2">Step 2: Move Traefik to a System Path</span><a href="#step-2-move-traefik-to-a-system-path" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Make the Traefik binary executable and move it to a directory in your systemâ€™s PATH:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nb">chmod</span> +x traefik
<span class="nb">sudo mv </span>traefik /usr/local/bin/traefik
</pre></td></tr></tbody></table></code></div></div>

<p>To allow Traefik to bind to privileged ports (like 80 and 443) as a non-root user, execute the following command:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>setcap <span class="s1">'cap_net_bind_service=+ep'</span> /usr/local/bin/traefik
</pre></td></tr></tbody></table></code></div></div>

<h2 id="step-3-set-up-user-and-directories"><span class="me-2">Step 3: Set Up User and Directories</span><a href="#step-3-set-up-user-and-directories" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Now, weâ€™ll create the necessary user, group, and directories for Traefik. This ensures that Traefik runs with limited permissions, improving security.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>groupadd <span class="nt">-g</span> 321 traefik docker
<span class="nb">sudo </span>useradd <span class="nt">-g</span> traefik <span class="nt">--no-user-group</span> <span class="nt">--home-dir</span> /var/www <span class="nt">--no-create-home</span> <span class="nt">--shell</span> /usr/sbin/nologin <span class="nt">--system</span> <span class="nt">--uid</span> 321 traefik
</pre></td></tr></tbody></table></code></div></div>

<p>Create the configuration directories:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/traefik/<span class="o">{</span>acme,dynamic<span class="o">}</span> /var/log/traefik/
<span class="nb">sudo touch</span> /var/log/traefik/<span class="o">{</span>traefik.log,debug.log<span class="o">}</span>
<span class="nb">sudo chown</span> <span class="nt">-R</span> root:root /etc/traefik
<span class="nb">sudo chown</span> <span class="nt">-R</span> traefik:traefik /etc/traefik/acme
</pre></td></tr></tbody></table></code></div></div>

<p>Set appropriate ownership and permissions:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nb">sudo chown </span>root:root /etc/traefik/traefik.yaml
<span class="nb">sudo chmod </span>644 /etc/traefik/traefik.yaml /etc/traefik/dynamic/config.yml /var/log/traefik/<span class="o">{</span>traefik.log,debug.log<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="step-4-create-and-configure-traefik-files"><span class="me-2">Step 4: Create and Configure Traefik Files</span><a href="#step-4-create-and-configure-traefik-files" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>You need to place the <code class="language-plaintext highlighter-rouge">traefik.yaml</code> configuration file in <code class="language-plaintext highlighter-rouge">/etc/traefik/</code> and <code class="language-plaintext highlighter-rouge">config.yml</code> configuration file in <code class="language-plaintext highlighter-rouge">/etc/traefik/dynamic/config.yaml</code>.</p>

<p>This file defines global settings, entry points, logging, and providers for Docker and file-based configurations.</p>

<p>Update sample <code class="language-plaintext highlighter-rouge">traefik.yaml</code> according to your needs:</p>

<div class="language-yaml highlighter-rouge"><div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
</pre></td><td class="rouge-code"><pre><span class="c1">################################################################</span>
<span class="c1"># Global configuration</span>
<span class="c1">################################################################</span>
<span class="c1">#global:</span>
<span class="c1">#  checkNewVersion = true</span>
<span class="c1">#  sendAnonymousUsage = true</span>

<span class="c1">################################################################</span>
<span class="c1"># API and dashboard configuration</span>
<span class="c1">################################################################</span>
<span class="na">api</span><span class="pi">:</span>
  <span class="na">dashboard</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">debug</span><span class="pi">:</span> <span class="kc">true</span>

<span class="c1">################################################################</span>
<span class="c1"># Traefik logs configuration</span>
<span class="c1">################################################################</span>
<span class="na">log</span><span class="pi">:</span>
  <span class="na">level</span><span class="pi">:</span> <span class="s">DEBUG</span>
  <span class="na">filePath</span><span class="pi">:</span> <span class="s">/var/log/traefik/debug.log</span>
  <span class="c1">#format: json</span>

<span class="na">accessLog</span><span class="pi">:</span>
  <span class="na">filePath</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/var/log/traefik/traefik.log"</span>
  <span class="na">bufferingSize</span><span class="pi">:</span> <span class="m">100</span>
  <span class="c1">#format: json</span>

<span class="c1">################################################################</span>
<span class="c1"># EntryPoints configuration</span>
<span class="c1">################################################################</span>
<span class="na">entryPoints</span><span class="pi">:</span>
  <span class="na">http</span><span class="pi">:</span>
    <span class="na">address</span><span class="pi">:</span> <span class="s2">"</span><span class="s">:80"</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">redirections</span><span class="pi">:</span>
        <span class="na">entryPoint</span><span class="pi">:</span>
          <span class="na">to</span><span class="pi">:</span> <span class="s">https</span>
          <span class="na">scheme</span><span class="pi">:</span> <span class="s">https</span>
  <span class="na">https</span><span class="pi">:</span>
    <span class="na">address</span><span class="pi">:</span> <span class="s2">"</span><span class="s">:443"</span>

<span class="na">serversTransport</span><span class="pi">:</span>
  <span class="na">insecureSkipVerify</span><span class="pi">:</span> <span class="kc">true</span>

<span class="c1">################################################################</span>
<span class="c1"># Docker configuration backend</span>
<span class="c1">################################################################</span>
<span class="na">providers</span><span class="pi">:</span>
  <span class="na">docker</span><span class="pi">:</span>
    <span class="na">endpoint</span><span class="pi">:</span> <span class="s2">"</span><span class="s">unix:///var/run/docker.sock"</span>
    <span class="na">exposedByDefault</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">useBindPortIP</span><span class="pi">:</span> <span class="kc">true</span>
    <span class="na">network</span><span class="pi">:</span> <span class="s">proxy</span>
    <span class="na">watch</span><span class="pi">:</span> <span class="kc">true</span>

  <span class="na">file</span><span class="pi">:</span>
    <span class="na">directory</span><span class="pi">:</span> <span class="s">/etc/traefik/dynamic/</span>
    <span class="na">watch</span><span class="pi">:</span> <span class="kc">true</span>

<span class="c1">################################################################</span>
<span class="c1"># Certificate resolvers</span>
<span class="c1">################################################################</span>
<span class="na">certificatesResolvers</span><span class="pi">:</span>
  <span class="na">cloudflare</span><span class="pi">:</span>
    <span class="na">acme</span><span class="pi">:</span>
      <span class="na">email</span><span class="pi">:</span> <span class="s">XXXXXXXXXX</span>
      <span class="na">storage</span><span class="pi">:</span> <span class="s">/etc/traefik/acme/acme.json</span>
      <span class="na">dnsChallenge</span><span class="pi">:</span>
        <span class="na">provider</span><span class="pi">:</span> <span class="s">cloudflare</span>
        <span class="c1">#disablePropagationCheck: true # uncomment this if you have issues pulling certificates through cloudflare, By setting this flag to true disables the need to wait for the propagation of the TXT record to all authoritative name servers.</span>
        <span class="na">resolvers</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">1.1.1.1:53"</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">1.0.0.1:53"</span>                                                                                                                                
</pre></td></tr></tbody></table></code></div></div>

<p>Update sample <code class="language-plaintext highlighter-rouge">config.yaml</code> according to your needs:</p>
<div class="language-yaml highlighter-rouge"><div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
</pre></td><td class="rouge-code"><pre><span class="na">http</span><span class="pi">:</span>
  <span class="na">routers</span><span class="pi">:</span>
    <span class="na">test</span><span class="pi">:</span>
      <span class="na">entryPoints</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">https"</span>
      <span class="na">rule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Host(`test.example.com`)"</span>
      <span class="na">middlewares</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">secured</span>
      <span class="na">tls</span><span class="pi">:</span>
        <span class="na">certResolver</span><span class="pi">:</span> <span class="s">cloudflare</span>
        <span class="na">domains</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">main</span><span class="pi">:</span> <span class="s2">"</span><span class="s">example.com"</span>
            <span class="na">sans</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s2">"</span><span class="s">*.example.com"</span>
      <span class="na">service</span><span class="pi">:</span> <span class="s">test</span>

  <span class="na">traefik</span><span class="pi">:</span>
    <span class="na">entryPoints</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">https"</span>
    <span class="na">rule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Host(`traefik-detract.example.com`)</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">(PathPrefix(`/api`)</span><span class="nv"> </span><span class="s">||</span><span class="nv"> </span><span class="s">PathPrefix(`/dashboard`))"</span>
    <span class="na">middlewares</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">default-headers</span>
    <span class="na">tls</span><span class="pi">:</span>
      <span class="na">certResolver</span><span class="pi">:</span> <span class="s">cloudflare</span>
      <span class="na">domains</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">main</span><span class="pi">:</span> <span class="s2">"</span><span class="s">example.com"</span>
          <span class="na">sans</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">*.example.com"</span>
    <span class="na">service</span><span class="pi">:</span> <span class="s">api@internal</span>

<span class="c1">############################################################################################</span>
<span class="c1">### services</span>
<span class="c1">############################################################################################</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="na">test</span><span class="pi">:</span>
      <span class="na">loadBalancer</span><span class="pi">:</span>
        <span class="na">sticky</span><span class="pi">:</span>
          <span class="na">cookie</span><span class="pi">:</span>
            <span class="na">secure</span><span class="pi">:</span> <span class="kc">true</span>
            <span class="na">httpOnly</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">servers</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://$IP:$PORT/"</span>
        <span class="na">passHostHeader</span><span class="pi">:</span> <span class="kc">true</span>

<span class="c1">############################################################################################</span>
<span class="c1">### middlewares</span>
<span class="c1">############################################################################################</span>
  <span class="na">middlewares</span><span class="pi">:</span>
    <span class="na">https-redirectscheme</span><span class="pi">:</span>
      <span class="na">redirectScheme</span><span class="pi">:</span>
        <span class="na">scheme</span><span class="pi">:</span> <span class="s">https</span>
        <span class="na">permanent</span><span class="pi">:</span> <span class="kc">true</span>

    <span class="na">gzip</span><span class="pi">:</span>
      <span class="na">compress</span><span class="pi">:</span> <span class="pi">{}</span>

    <span class="na">default-headers</span><span class="pi">:</span>
      <span class="na">headers</span><span class="pi">:</span>
        <span class="na">frameDeny</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">browserXssFilter</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">contentTypeNosniff</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">forceSTSHeader</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">stsIncludeSubdomains</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">stsPreload</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">stsSeconds</span><span class="pi">:</span> <span class="m">15552000</span>
        <span class="na">customFrameOptionsValue</span><span class="pi">:</span> <span class="s">SAMEORIGIN</span>
        <span class="na">customRequestHeaders</span><span class="pi">:</span>
          <span class="na">X-Forwarded-Proto</span><span class="pi">:</span> <span class="s">https</span>
        <span class="na">customResponseHeaders</span><span class="pi">:</span>
          <span class="na">Access-Control-Allow-Origin</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>

    <span class="na">cors</span><span class="pi">:</span>
      <span class="na">headers</span><span class="pi">:</span>
        <span class="na">accessControlAllowOriginList</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">*"</span><span class="pi">]</span>
        <span class="na">accessControlAllowCredentials</span><span class="pi">:</span> <span class="kc">true</span>
        <span class="na">accessControlAllowHeaders</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">*"</span><span class="pi">]</span>
        <span class="na">accessControlAllowMethods</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">*"</span><span class="pi">]</span>
        <span class="na">accessControlMaxAge</span><span class="pi">:</span> <span class="m">100</span>
        <span class="na">addVaryHeader</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">tls</span><span class="pi">:</span>
  <span class="na">options</span><span class="pi">:</span>
    <span class="c1"># To use with the label "traefik.http.routers.myrouter.tls.options=modern@file"</span>
    <span class="na">modern</span><span class="pi">:</span>
      <span class="na">minVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">VersionTLS13"</span>                          <span class="c1"># Minimum TLS Version</span>
      <span class="na">sniStrict</span><span class="pi">:</span> <span class="kc">true</span>                                     <span class="c1"># Strict SNI Checking</span>

    <span class="c1"># To use with the label "traefik.http.routers.myrouter.tls.options=intermediate@file"</span>
    <span class="na">intermediate</span><span class="pi">:</span>
      <span class="na">cipherSuites</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305"</span>
      <span class="na">minVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">VersionTLS12"</span>                          <span class="c1"># Minimum TLS Version</span>
      <span class="na">sniStrict</span><span class="pi">:</span> <span class="kc">true</span>                                     <span class="c1"># Strict SNI Checking</span>

    <span class="c1"># To use with the label "traefik.http.routers.myrouter.tls.options=old@file"</span>
    <span class="na">old</span><span class="pi">:</span>
      <span class="na">cipherSuites</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_RSA_WITH_AES_128_GCM_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_RSA_WITH_AES_256_GCM_SHA384"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_RSA_WITH_AES_128_CBC_SHA256"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_RSA_WITH_AES_128_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_RSA_WITH_AES_256_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_RSA_WITH_3DES_EDE_CBC_SHA"</span>
      <span class="na">minVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">TLSv1"</span>                                 <span class="c1"># Minimum TLS Version</span>
      <span class="na">sniStrict</span><span class="pi">:</span> <span class="kc">true</span>                                     <span class="c1"># Strict SNI Checking</span>

</pre></td></tr></tbody></table></code></div></div>

<h2 id="step-5-create-systemd-service"><span class="me-2">Step 5: Create Systemd Service</span><a href="#step-5-create-systemd-service" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Create a systemd service file for Traefik to manage its lifecycle.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>nano /etc/systemd/system/traefik.service
<span class="nb">sudo chown </span>root:root /etc/systemd/system/traefik.service
<span class="nb">sudo chmod </span>644 /etc/systemd/system/traefik.service
</pre></td></tr></tbody></table></code></div></div>

<p>Update sample <code class="language-plaintext highlighter-rouge">traefik.service</code> according to your needs:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></td><td class="rouge-code"><pre><span class="o">[</span>Unit]
<span class="nv">Description</span><span class="o">=</span>Traefik
<span class="nv">Documentation</span><span class="o">=</span>https://doc.traefik.io/traefik/
<span class="nv">After</span><span class="o">=</span>network-online.target
<span class="nv">Wants</span><span class="o">=</span>network-online.target systemd-networkd-wait-online.service

<span class="o">[</span>Service]

<span class="nv">Environment</span><span class="o">=</span><span class="s2">"CF_API_EMAIL=XXXXXXXXXX"</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"CF_DNS_API_TOKEN=XXXXXXXXXX"</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"CF_API_KEY=XXXXXXXXXX"</span>

<span class="nv">Restart</span><span class="o">=</span>always
<span class="nv">RestartSec</span><span class="o">=</span>3

<span class="p">;</span> User and group the process will run as.
<span class="nv">User</span><span class="o">=</span>traefik
<span class="nv">Group</span><span class="o">=</span>traefik

<span class="p">;</span> Always <span class="nb">set</span> <span class="s2">"-root"</span> to something safe <span class="k">in case</span> it gets forgotten <span class="k">in </span>the traefikfile.
<span class="nv">ExecStart</span><span class="o">=</span>/usr/local/bin/traefik <span class="nt">--configfile</span><span class="o">=</span>/etc/traefik/traefik.toml <span class="nt">--api</span><span class="o">=</span><span class="nb">true</span> <span class="nt">--api</span>.insecure<span class="o">=</span><span class="nb">true</span> <span class="nt">--api</span>.dashboard<span class="o">=</span><span class="nb">true</span> <span class="nt">--api</span>.debug<span class="o">=</span><span class="nb">true</span>

<span class="p">;</span> Limit the number of file descriptors<span class="p">;</span> see <span class="sb">`</span>man systemd.exec<span class="sb">`</span> <span class="k">for </span>more limit settings.
<span class="nv">LimitNOFILE</span><span class="o">=</span>1048576

<span class="p">;</span> Use private /tmp and /var/tmp, which are discarded after traefik stops.
<span class="nv">PrivateTmp</span><span class="o">=</span><span class="nb">true</span>

<span class="p">;</span> Use a minimal /dev <span class="o">(</span>May bring additional security <span class="k">if </span>switched to <span class="s1">'true'</span>, but it may not work on Raspberry Pis or other devices, so it has been disabled <span class="k">in </span>this dist.<span class="p">)</span>
<span class="nv">PrivateDevices</span><span class="o">=</span><span class="nb">false</span>

<span class="p">;</span> Hide /home, /root, and /run/user. Nobody will steal your SSH-keys.
<span class="nv">ProtectHome</span><span class="o">=</span><span class="nb">true</span>

<span class="p">;</span> Make /usr, /boot, /etc and possibly some more folders read-only.
<span class="nv">ProtectSystem</span><span class="o">=</span>full

<span class="p">;</span> â€¦ except /etc/ssl/traefik, because we want Letsencrypt-certificates there.
<span class="p">;</span>   This merely retains r/w access rights, it does not add any new. Must still be writable on the host!
<span class="nv">ReadWriteDirectories</span><span class="o">=</span>/etc/traefik/acme

<span class="p">;</span> The following additional security directives only work with systemd v229 or later.
<span class="p">;</span> They further restrict privileges that can be gained by traefik. Uncomment <span class="k">if </span>you like.
<span class="p">;</span> Note that you may have to add capabilities required by any plugins <span class="k">in </span>use.
<span class="nv">CapabilityBoundingSet</span><span class="o">=</span>CAP_NET_BIND_SERVICE
<span class="nv">AmbientCapabilities</span><span class="o">=</span>CAP_NET_BIND_SERVICE
<span class="nv">NoNewPrivileges</span><span class="o">=</span><span class="nb">true</span>

<span class="o">[</span>Install]
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target

</pre></td></tr></tbody></table></code></div></div>

<p>Reload systemd and start the Traefik service:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl daemon-reload
<span class="nb">sudo </span>systemctl start traefik.service
</pre></td></tr></tbody></table></code></div></div>

<p>To enable Traefik to start automatically at boot:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>systemctl <span class="nb">enable </span>traefik.service
</pre></td></tr></tbody></table></code></div></div>

<p><a href="/assets/linux/traefik/traefik1.png" class="popup img-link  shimmer"><img src="/assets/linux/traefik/traefik1.png" alt="traefik" width="800" height="500" loading="lazy"></a></p>

<h2 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>You now have Traefik up and running, configured to work with Docker and your Cloudflare DNS for SSL certificates. For more advanced configurations, such as setting up middlewares or further customizing TLS options, refer to the official <a href="https://doc.traefik.io/traefik/" target="_blank">Traefik documentation.</a></p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/linux/">Linux</a>
      </div>
    

    <!-- tags -->
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Traefik%20-%20Secsys&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Ftraefik%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Traefik%20-%20Secsys&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Ftraefik%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Ftraefik%2F&text=Traefik%20-%20Secsys" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

      

      <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Ftraefik%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin">
        <i class="fa-fw fab fa-linkedin"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/bandit-2/">OverTheWire Wargames bandit => 2</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/lxdcs/">lxd</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/sed/">sed</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/nmap/">nmap</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/nuclei/">nuclei</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cheatsheet/">cheatsheet</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/john/">john</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wpscan/">wpscan</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cyberchef/">cyberchef</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/find/">find</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/metasploit/">metasploit</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/crackmap/">crackmap</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fcrackzip/">fcrackzip</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ftp/">ftp</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/gtfo-bin/">gtfo bin</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  
    










  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/prometheus/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1721413800"
  data-df="ll"
  
>
  Jul 20, 2024
</time>

              <h4 class="pt-0 my-2">Prometheus</h4>
              <div class="text-muted">
                <p>
                  





                  Introduction

Prometheus is a powerful open-source monitoring system and time series database. This guide walks you through installing and configuring Prometheus on a Linux system. By the end of th...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/grafana/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1721759400"
  data-df="ll"
  
>
  Jul 24, 2024
</time>

              <h4 class="pt-0 my-2">Grafana</h4>
              <div class="text-muted">
                <p>
                  





                  Grafana is a powerful open-source analytics and monitoring tool that allows you to visualize data in a highly customizable way. This guide will walk you through the steps to install Grafana from th...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/portainer/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Portainer</p>
    </a>
  

  
    <a
      href="/posts/duplicati/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Duplicati</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>Â©
    <time>2025</time>

    
      <a href="https://www.linkedin.com/in/shaikmuzammil55/">muzammil shaik</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

<!--  <p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p> -->
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cheatsheet/">cheatsheet</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/john/">john</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/wpscan/">wpscan</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cyberchef/">cyberchef</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/find/">find</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/metasploit/">metasploit</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/crackmap/">crackmap</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/fcrackzip/">fcrackzip</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ftp/">ftp</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/gtfo-bin/">gtfo bin</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

